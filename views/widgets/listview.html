<md-content class="md-padding">
    <md-card>
        <md-card-content>

            <md-card>
                <md-card-content>
                    <form ng-submit="onPredicateChange()">
                        <div layout="row" layout-align="start center">
                            <div flex>
                                <md-input-container>
                                    <label>Keyword</label>
                                    <input ng-model="query.filter">
                                </md-input-container>
                            </div>
                            <div>
                                <md-button type="submit" class="md-fab md-mini md-primary" aria-label="Search">
                                    <md-tooltip>
                                        Search
                                    </md-tooltip>
                                    <i class="fa fa-search"></i>
                                </md-button>
                                <md-button type="submit" class="md-fab md-mini md-primary" aria-label="Clear" ng-click="clearKeyword()">
                                    <md-tooltip>
                                        Clear
                                    </md-tooltip>
                                    <i class="fa fa-times"></i>
                                </md-button>
                            </div>
                        </div>
                    </form>
                </md-card-content>
            </md-card>


            <md-card>
                <md-card-content>
                    <div layout="row" layout-align="start center" ng-repeat="filter in filterValues">
                        <div flex>
                            <md-input-container>
                                <label>{{filter.displayName}}</label>
                                <md-select ng-model="filterObj[filter.field]" ng-change="onPredicateChange()">
                                    <md-option ng-repeat="val in filter.values" value="{{val.value}}">
                                        {{val.name}}
                                    </md-option>
                                </md-select>
                            </md-input-container>
                        </div>
                        <div>
                            <md-button type="submit" class="md-fab md-mini md-primary" aria-label="Clear" ng-click="clearFilter(filter.field)">
                                <md-tooltip>
                                    Clear
                                </md-tooltip>
                                <i class="fa fa-times"></i>
                            </md-button>
                        </div>
                    </div>
                </md-card-content>
            </md-card>

            <md-card>
                <md-card-content>
                    <md-data-table-toolbar >
                        <h2 class="md-title">{{title}}</h2>
                    </md-data-table-toolbar>

                    <md-data-table-container>
                        <table md-data-table md-row-select="selected" md-progress="deferred">
                            <thead md-order="query.order" md-trigger="getdata">
                            <tr>
                                <th name="{{column.displayName}}" ng-repeat="column in cols"></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr md-auto-select ng-repeat="entity in entities.data">
                                <td ng-repeat="column in cols">{{entity[column.field]}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </md-data-table-container>
                    <md-data-table-pagination md-limit="query.limit" md-page="query.page" md-total="{{entities.total}}" md-trigger="getdata" md-row-select="pageSizes"></md-data-table-pagination>
                </md-card-content>
            </md-card>

        </md-card-content>
    </md-card>
</md-content>